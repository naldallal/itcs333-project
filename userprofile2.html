<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Profile Page</title>

    <!-- Custom Css -->
    <link rel="stylesheet" href="css.css">

    <!-- FontAwesome 5 -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css">
    <style>
        .editable {
            display: none;
        }
        .visible {
            display: block;
        }
    </style>
</head>
<body>
    <!-- Navbar top -->
    <div class="navbar-top">
        <div class="title">
            <h1>Profile</h1>
        </div>

        <!-- Navbar -->
        <ul>
            <li>
                <a href="#message">
                    <span class="icon-count">29</span>
                    <i class="fa fa-envelope fa-2x"></i>
                </a>
            </li>
            <li>
                <a href="#notification">
                    <span class="icon-count">59</span>
                    <i class="fa fa-bell fa-2x"></i>
                </a>
            </li>
            <li>
                <a href="#sign-out">
                    <i class="fa fa-sign-out-alt fa-2x"></i>
                </a>
            </li>
        </ul>
        <!-- End -->
    </div>
    <!-- End -->

    <!-- Sidenav -->
    <div class="sidenav">
        <div class="profile">
            <img id="profileImage" src="https://static-00.iconduck.com/assets.00/avatar-default-icon-2048x2048-h6w375ur.png" alt="Default Profile" width="100" height="100">

            <div class="name" id="profileName">
                ImDezCode
            </div>
            <div class="job">
                Web Developer
            </div>
        </div>

        <div class="sidenav-url">
            <div class="url">
                <a href="#profile" class="active">Profile</a>
                <hr align="center">
            </div>
            <div class="url">
                <a href="#settings">Settings</a>
                <hr align="center">
            </div>
        </div>
    </div>
    <!-- End -->

    <!-- Main -->
    <div class="main">
        <h2>IDENTITY</h2>
        <div class="card">
            <div class="card-body">
                <i class="fa fa-pen fa-xs edit" id="editButton" onclick="toggleEdit()"></i>
                <table>
                    <tbody>
                        <tr>
                            <td>Name</td>
                            <td>:</td>
                            <td id="displayName">ImDezCode</td>
                            <td class="editable"><input type="text" id="editName" value="ImDezCode"></td>
                        </tr>
                        <tr>
                            <td>Email</td>
                            <td>:</td>
                            <td>20210XXXXX@stu.uob.edu.bh</td>
                        </tr>
                        <tr>
                            <td>College</td>
                            <td>:</td>
                            <td>Information Technology</td>
                        </tr>
                    </tbody>
                </table>
                <div class="editable">
                    <label for="imageUpload">Change Profile Image:</label>
                    <input type="file" id="imageUpload" accept="image/*" onchange="previewImage(event)">
                </div>
                <button id="request-admin-btn" style="margin-top: 20px;">Request Admin Access</button>
            </div>
        </div>
    </div>
    <!-- End -->

    <script>
        function toggleEdit() {
            const editButton = document.getElementById('editButton');
            const displayName = document.getElementById('displayName');
            const editName = document.getElementById('editName');
            const editableFields = document.querySelectorAll('.editable');

            editableFields.forEach(field => {
                field.classList.toggle('visible');
            });

            if (editButton.classList.contains('fa-pen')) {
                editButton.classList.remove('fa-pen');
                editButton.classList.add('fa-save');
            } else {
                displayName.textContent = editName.value;
                editButton.classList.remove('fa-save');
                editButton.classList.add('fa-pen');
            }
        }

        function previewImage(event) {
            const profileImage = document.getElementById('profileImage');
            const file = event.target.files[0];
            const reader = new FileReader();

            reader.onload = function(e) {
                profileImage.src = e.target.result;
            };

            if (file) {
                reader.readAsDataURL(file);
            }
        }
    </script>
</body>
</html>